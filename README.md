# Redmine Webhook Plugin

Redmine webhooké€šçŸ¥æ’ä»¶ï¼Œæ”¯æŒé’‰é’‰è‡ªå®šä¹‰æœºå™¨äººæ¶ˆæ¯é€šçŸ¥ï¼Œå®ç°é¡¹ç›®ä»»åŠ¡çŠ¶æ€å˜æ›´çš„å®æ—¶é€šçŸ¥ã€‚

[![Redmine](https://img.shields.io/badge/Redmine-6.1%2B-blue)](https://www.redmine.org/)
[![Ruby](https://img.shields.io/badge/Ruby-2.7%2B-red)](https://www.ruby-lang.org/)
[![License](https://img.shields.io/badge/License-MIT-green)](LICENSE)

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **é¡¹ç›®çº§ç‹¬ç«‹é…ç½®**: æ¯ä¸ªé¡¹ç›®å¯ç‹¬ç«‹è®¾ç½®Webhook
- **çŠ¶æ€å¤šé€‰æ§åˆ¶**: è‡ªç”±é€‰æ‹©å“ªäº›çŠ¶æ€å˜æ›´æ—¶è§¦å‘é€šçŸ¥
- **å¯Œæ–‡æœ¬æ¨¡æ¿**: æ”¯æŒMarkdownå’ŒHTMLæ ¼å¼
- **æ™ºèƒ½å˜é‡æ›¿æ¢**: 9ä¸ªå†…ç½®å ä½ç¬¦è‡ªåŠ¨æ›¿æ¢
- **é’‰é’‰ç­¾åéªŒè¯**: æ”¯æŒé’‰é’‰æœºå™¨äººå®‰å…¨è®¾ç½®

## ğŸ“¦ å¿«é€Ÿå®‰è£…

```bash
cd /path/to/redmine/plugins
git clone https://github.com/carolcoral/redmine_webhook.git
cd /path/to/redmine
bundle install
bundle exec rake redmine:plugins:migrate RAILS_ENV=production
# é‡å¯RedmineæœåŠ¡
```

## âš™ï¸ é…ç½®æŒ‡å—

### 1. é’‰é’‰æœºå™¨äººè®¾ç½®

1. åœ¨é’‰é’‰ç¾¤ä¸­æ·»åŠ è‡ªå®šä¹‰æœºå™¨äºº
2. è·å–Webhook URLï¼š`https://oapi.dingtalk.com/robot/send?access_token=xxx`
3. ï¼ˆå¯é€‰ï¼‰é…ç½®ç­¾åéªŒè¯å¹¶è·å–å¯†é’¥

### 2. æ’ä»¶é…ç½®

è¿›å…¥é¡¹ç›® â†’ Webhookèœå• â†’ é…ç½®å‚æ•°ï¼š

- **å¯ç”¨Webhook**: å‹¾é€‰æ¿€æ´»é€šçŸ¥
- **Webhookåœ°å€**: å¡«å†™é’‰é’‰æœºå™¨äººå®Œæ•´URL
- **å¯†é’¥ä»¤ç‰Œ**: å¡«å†™ç­¾åå¯†é’¥ï¼ˆå¦‚å¯ç”¨ç­¾åéªŒè¯ï¼‰
- **é€šçŸ¥æ¨¡æ¿**: ä¸ºæ¯ä¸ªçŠ¶æ€è‡ªå®šä¹‰æ¶ˆæ¯å†…å®¹

### 3. é€‰æ‹©é€šçŸ¥çŠ¶æ€

åœ¨"å¯ç”¨é€šçŸ¥çš„ä»»åŠ¡çŠ¶æ€"åŒºåŸŸï¼š
- å‹¾é€‰éœ€è¦è§¦å‘é€šçŸ¥çš„ä»»åŠ¡çŠ¶æ€
- ä½¿ç”¨"å…¨é€‰"/"å…¨ä¸é€‰"å¿«é€Ÿæ“ä½œ
- å¿…é¡»è‡³å°‘å‹¾é€‰ä¸€ä¸ªçŠ¶æ€

## ğŸ“ é€šçŸ¥æ¨¡æ¿

### å ä½ç¬¦å˜é‡

| å˜é‡ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `${user}` | æ“ä½œç”¨æˆ· | å¼ ä¸‰ |
| `${task}` | ä»»åŠ¡æ ‡é¢˜ | ä¿®å¤ç™»å½•bug |
| `${status}` | å½“å‰çŠ¶æ€ | è¿›è¡Œä¸­ |
| `${project}` | é¡¹ç›®åç§° | ç½‘ç«™å¼€å‘ |
| `${url}` | ä»»åŠ¡é“¾æ¥ | http://redmine.example.com/issues/123 |
| `${notes}` | å¤‡æ³¨ä¿¡æ¯ | å·²ä¿®å¤éªŒè¯é—®é¢˜ |
| `${priority}` | ä¼˜å…ˆçº§ | ç´§æ€¥ |
| `${tracker}` | è·Ÿè¸ªç±»å‹ | Bug |
| `${assigned_to}` | æŒ‡æ´¾äºº | æå›› |

### æ¨¡æ¿ç¤ºä¾‹

**Markdownæ ¼å¼ï¼ˆæ”¯æŒHTMLï¼‰:**
```markdown
## ${project} - ä»»åŠ¡æ›´æ–°

**ä»»åŠ¡:** ${task}  
**çŠ¶æ€:** ${status}  
**æ“ä½œäºº:** ${user}  
**æŒ‡æ´¾äºº:** ${assigned_to}

> ${notes}

[æŸ¥çœ‹è¯¦æƒ…](${url})
```

**çº¯æ–‡æœ¬æ ¼å¼:**
```
${user} æ›´æ–°äº† ${task} çŠ¶æ€ä¸º ${status}
é¡¹ç›®: ${project}
è¯¦æƒ…: ${url}
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- **ä»»åŠ¡åˆ›å»º**: æ–°ä»»åŠ¡æäº¤æ—¶é€šçŸ¥å›¢é˜Ÿ
- **çŠ¶æ€æµè½¬**: ä»»åŠ¡çŠ¶æ€å˜æ›´æ—¶è‡ªåŠ¨æé†’
- **å…³é”®çŠ¶æ€**: ä»…"å·²å®Œæˆ"ç­‰å…³é”®çŠ¶æ€é€šçŸ¥è´Ÿè´£äºº
- **å…¨æµç¨‹è·Ÿè¸ª**: æ‰€æœ‰çŠ¶æ€å˜åŒ–å®æ—¶åŒæ­¥

## ğŸ”§ æŠ€æœ¯æ ˆ

- **Redmine**: 6.1+
- **Ruby**: 2.7+
- **Rails**: 6.1+ (å…¼å®¹ Rails 7.2)
- **æ•°æ®åº“**: SQLite/PostgreSQL/MySQL

## ğŸ“„ è®¸å¯è¯

MIT License - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ‘¤ ä½œè€…

**carolcoral**

- GitHub: [@carolcoral](https://github.com/carolcoral)
- é¡¹ç›®åœ°å€: [https://github.com/carolcoral/redmine_webhook](https://github.com/carolcoral/redmine_webhook)
